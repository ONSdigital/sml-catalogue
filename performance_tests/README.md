# Performance tests

This readme is to show the reader how to run a .jmx file to display our sites JMeter performance tests results.

## Explanation of JMeter
The Apache JMeter application is open source software, a 100% pure Java application designed to load test functional behavior and measure performance. It was originally designed for testing Web Applications but has since expanded to other test functions.

Apache JMeter may be used to test performance both on static and dynamic resources, Web dynamic applications.
It can be used to simulate a heavy load on a server, group of servers, network or object to test its strength or to analyse overall performance under different load types.

## JMeter download and usage

You can download JMeter from the [official page](https://jmeter.apache.org/). After installation, you can use your terminal to run the JMeter.sh file to do this,  navigate to the bin directory and run the command: 

```
    sh jmeter.sh
```

Your JMeter window will open. You can click the open icon and navigate to this directory 'performance tests' you will find different tests types which contain their .csv results files and .jmx files.


Selecting one of the .jmx files will open up the details of the test in your JMeter window.

You can amend the test and run it using the play icon. Note if you want to run a test, under 'User Defined Variables' you will need to specify the number of users in the test, staff name, ramp up period and test number. To understand this further please see [JMeter Reults](https://confluence.ons.gov.uk/display/SML/JMeter+Results).

Each test has a constant timer designed to make it last for 3 minutes. If you want to change how long the test runs for you can change the loop count. The loop count works in the following way 1 = 3 minutes test run, 20 = 1 hour test run, 60 = 3 hour test run, 100 = 5 hour test run.

The following formula will allow the user to determine the value of the loop count

```
    loop_count = desired_test_runtime_in_minutes / 3
```

For example, if I want a test to run for 10 minutes.

```
    loop_count = 10 / 3 = 3.3
```

Once all the parameters are set, click the green play icon to run the test.

## Terms and definitions
For better understanding we have a table of terms which you will see in the jmx breakdown.

* Connect time – Time to establish a connection.
* Load time – Time just before sending the request to the last part of the response.
* Latency – Time from just before sending the request to receiving the first part of the response.
* Elapsed – Time from just before the sending of the request to just after the last response has been received.
* Average – The average elapsed time of a set of results
* Response Time [P90] - This metric signifies that 90% of requests are completed within the given latency value, while the remaining 10% took longer. Monitoring P90 helps you understand the application's performance for most users, optimising it for the majority of traffic.
* Throughput - Throughput is a measure of how many units of work are being processed. In the case of load testing, this is usually hits per second, also known as requests per second. Understanding throughput helps teams develop test cases based on expected user engagement, such as peak traffic events.
* Standard deviation - Standard Deviation is a measure of the variability of a data set. This is a standard statistical measure. JMeter calculates the population standard deviation, not the sample standard deviation.
* Sample - Samples tell Jmeter to send requests to a server and wait for a response. They are processed in the order they appear.

## Using JTL-Reporter to display our JMeter results as graphs

[JTL-Reporter](https://github.com/ludeknovy/jtl-reporter) is a container based graphing tool, that allows you to upload your JMeter .csv files (generated by JMeter performance tests runs) and display them in readable, customisable  and colour themed graphs.

Using your container hosting software of choice, download and run the containers (use the link above to find download information).

Once opened navigate to your localhost on port 2020. You will need to create a local account and project. From this point, you can then create a scenario and upload the .csv files to the scenario.