
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
    
    
    
    
      <link rel="stylesheet" href="/static/assets/stylesheets/main.9d5733d3.min.css">
      
        
        <link rel="stylesheet" href="/static/assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="/static/assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sml_small.editing.totals_and_components.totals_and_components" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
    
    <div class="md-container" data-md-component="container">
      
      
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Totals and Components</h1>

<div class="doc doc-object doc-module">


<a id="sml_small.editing.totals_and_components.totals_and_components"></a>
  <div class="doc doc-contents first">
  
      <p>Perform Totals and Components processing against provided data inputs
based on user supplied thresholds.</p>
<p>For Copyright information, please see LICENCE.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="sml_small.editing.totals_and_components.totals_and_components.TccMarker">
        <code>TccMarker</code>


</h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>Enum for use when setting/comparing tcc_marker values</p>


        <details class="quote">
          <summary>Source code in <code>sml_small/editing/totals_and_components/totals_and_components.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TccMarker</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum for use when setting/comparing tcc_marker values</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">STOP</span> <span class="o">=</span> <span class="s2">&quot;S&quot;</span>
    <span class="n">MANUAL</span> <span class="o">=</span> <span class="s2">&quot;M&quot;</span>
    <span class="n">TOTAL_CORRECTED</span> <span class="o">=</span> <span class="s2">&quot;T&quot;</span>
    <span class="n">COMPONENTS_CORRECTED</span> <span class="o">=</span> <span class="s2">&quot;C&quot;</span>
    <span class="n">NO_CORRECTION</span> <span class="o">=</span> <span class="s2">&quot;N&quot;</span>
    <span class="n">METHOD_PROCEED</span> <span class="o">=</span> <span class="s2">&quot;P&quot;</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to determine equality between ComponentList objects</span>

<span class="sd">        :param value: string to compare against</span>
<span class="sd">        :type value: string</span>
<span class="sd">        ...</span>
<span class="sd">        :return: Boolean, True if equality test passes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="sml_small.editing.totals_and_components.totals_and_components.TccMarker.__eq__">
<code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Function to determine equality between ComponentList objects</p>
<p>:param value: string to compare against
:type value: string
...
:return: Boolean, True if equality test passes</p>

      <details class="quote">
        <summary>Source code in <code>sml_small/editing/totals_and_components/totals_and_components.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to determine equality between ComponentList objects</span>

<span class="sd">    :param value: string to compare against</span>
<span class="sd">    :type value: string</span>
<span class="sd">    ...</span>
<span class="sd">    :return: Boolean, True if equality test passes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 class="doc doc-heading" id="sml_small.editing.totals_and_components.totals_and_components.totals_and_components">
<code class="highlight language-python"><span class="n">totals_and_components</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span> <span class="n">components</span><span class="p">,</span> <span class="n">amend_total</span><span class="p">,</span> <span class="n">predictive</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auxiliary</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">absolute_difference_threshold</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">percentage_difference_threshold</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="n">PRECISION_MAX</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <pre><code>**Description**:

Determines whether a difference exists between a provided total value and the sum of
individual components. In the case where a difference exists the function can decide
whether an automatic correction should be made based on the provided absolute difference
and/or percentage difference thresholds. Where the correction satisfies the given thresholds
the amend_total variable determines whether the correction is applied to the total value
(to match the sum of the given components) or the individual components (so they add up
to the received total). When the components are corrected to match the total then the original
value of the components is taken into account to ensure that the corrected values are weighted
accordingly to maintain the original distribution. If an automatic correction cannot be applied
because the difference is out of bounds of the given thresholds then the function indicates
that a manual correction could be attempted. When there is no difference between the provided
total and the sum of the individual components then the function indicates no correction has
been applied. For exceptional cases where the sum of the original components is zero and a
positive total has been received the function indicates the method stopped processing. When
invalid types are received for the function then an exception will be raised and no output is
generated. It is important to note that the value None is not to be mistaken for zero.
It is actually representative of a null value.
</code></pre>
<hr />
<pre><code>**Parameters**
:param identifier: Unique identifier for the calculation.
:type identifier: str
:param total: Original value returned for the total.
:type total: float
:param components: List of component values, the sum of which, should match the received total value.
:type components: List[float]
:param amend_total: Specifies whether the total or components should be corrected when
                    an error is detected.
:type amend_total:bool
:param predictive: The predictive value. When specified, this value is used to determine whether
                   automatic error correction can be applied when comparing to the specified
                   absolute difference or percentage difference thresholds. Typically the predictive
                   value would be the total from an immediately prior period that has been
                   verified as valid.
:type predictive: Optional[float]
:param auxiliary: The value to be used in the absence of a predictive value.
:type auxiliary: Optional[float]
:param absolute_difference_threshold: Value used to check if the difference between
                                      the predictive total and sum of components
                                      requires an automatic update.
:type absolute_difference_threshold: Optional[float]
:param percentage_difference_threshold: If the predictive total is within the specified
                                        percentage of the sum of the components, the
                                        method will automatically correct.
:type percentage_difference_threshold: Optional[float]
:param precision: Precision is used by the decimal package when calculating whether
                  error correction can take place and for the adjustment of either the
                  total or components and ensures the calculations are performed to the
                  specified accuracy. The default precision is specified under PRECISION_MAX
:type precision: Optional[int]
</code></pre>
<hr />
<pre><code>**Exceptions**

:raisesTACException: If invalid values are passed to the function.
</code></pre>
<hr />
<pre><code>**Returns**

:return: TotalsAndComponentsOutput: An object containing the
                                   following attributes:
         - identifier (str): Unique identifier.
         - absolute_difference (str): The absolute value showing the difference between
         the input components and
           the predictive total.
         - low_percent_threshold (str, optional): The sum of the input components minus
         the absolute percentage
           difference (default: None).
         - high_percent_threshold (str, optional): The sum of the input components plus
         the absolute percentage
           difference (default: None).
         - final_total (str): The output total, which may have been corrected based on
         the amend_total variable.
         - final_components (List[str]): The output components, which may have been
         corrected to match the received predictive value. If corrected, the components are
           scaled proportionally
         - Tcc_Marker (str): Indicates what correction (if any) was necessary.
            Possible values:
                T (totals corrected),
                C (components corrected), N (no correction required),
                M (manual correction required),
                S (method stopped due to lack of data or zero values).
 :rtype: Tuple(TotalsAndComponentsOutput)
</code></pre>

      <details class="quote">
        <summary>Source code in <code>sml_small/editing/totals_and_components/totals_and_components.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">totals_and_components</span><span class="p">(</span>
    <span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">total</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">components</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
    <span class="n">amend_total</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">predictive</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auxiliary</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">absolute_difference_threshold</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">percentage_difference_threshold</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">precision</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">PRECISION_MAX</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TotalsAndComponentsOutput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    **Description**:</span>

<span class="sd">    Determines whether a difference exists between a provided total value and the sum of</span>
<span class="sd">    individual components. In the case where a difference exists the function can decide</span>
<span class="sd">    whether an automatic correction should be made based on the provided absolute difference</span>
<span class="sd">    and/or percentage difference thresholds. Where the correction satisfies the given thresholds</span>
<span class="sd">    the amend_total variable determines whether the correction is applied to the total value</span>
<span class="sd">    (to match the sum of the given components) or the individual components (so they add up</span>
<span class="sd">    to the received total). When the components are corrected to match the total then the original</span>
<span class="sd">    value of the components is taken into account to ensure that the corrected values are weighted</span>
<span class="sd">    accordingly to maintain the original distribution. If an automatic correction cannot be applied</span>
<span class="sd">    because the difference is out of bounds of the given thresholds then the function indicates</span>
<span class="sd">    that a manual correction could be attempted. When there is no difference between the provided</span>
<span class="sd">    total and the sum of the individual components then the function indicates no correction has</span>
<span class="sd">    been applied. For exceptional cases where the sum of the original components is zero and a</span>
<span class="sd">    positive total has been received the function indicates the method stopped processing. When</span>
<span class="sd">    invalid types are received for the function then an exception will be raised and no output is</span>
<span class="sd">    generated. It is important to note that the value None is not to be mistaken for zero.</span>
<span class="sd">    It is actually representative of a null value.</span>
<span class="sd">----</span>
<span class="sd">    **Parameters**</span>
<span class="sd">    :param identifier: Unique identifier for the calculation.</span>
<span class="sd">    :type identifier: str</span>
<span class="sd">    :param total: Original value returned for the total.</span>
<span class="sd">    :type total: float</span>
<span class="sd">    :param components: List of component values, the sum of which, should match the received total value.</span>
<span class="sd">    :type components: List[float]</span>
<span class="sd">    :param amend_total: Specifies whether the total or components should be corrected when</span>
<span class="sd">                        an error is detected.</span>
<span class="sd">    :type amend_total:bool</span>
<span class="sd">    :param predictive: The predictive value. When specified, this value is used to determine whether</span>
<span class="sd">                       automatic error correction can be applied when comparing to the specified</span>
<span class="sd">                       absolute difference or percentage difference thresholds. Typically the predictive</span>
<span class="sd">                       value would be the total from an immediately prior period that has been</span>
<span class="sd">                       verified as valid.</span>
<span class="sd">    :type predictive: Optional[float]</span>
<span class="sd">    :param auxiliary: The value to be used in the absence of a predictive value.</span>
<span class="sd">    :type auxiliary: Optional[float]</span>
<span class="sd">    :param absolute_difference_threshold: Value used to check if the difference between</span>
<span class="sd">                                          the predictive total and sum of components</span>
<span class="sd">                                          requires an automatic update.</span>
<span class="sd">    :type absolute_difference_threshold: Optional[float]</span>
<span class="sd">    :param percentage_difference_threshold: If the predictive total is within the specified</span>
<span class="sd">                                            percentage of the sum of the components, the</span>
<span class="sd">                                            method will automatically correct.</span>
<span class="sd">    :type percentage_difference_threshold: Optional[float]</span>
<span class="sd">    :param precision: Precision is used by the decimal package when calculating whether</span>
<span class="sd">                      error correction can take place and for the adjustment of either the</span>
<span class="sd">                      total or components and ensures the calculations are performed to the</span>
<span class="sd">                      specified accuracy. The default precision is specified under PRECISION_MAX</span>
<span class="sd">    :type precision: Optional[int]</span>
<span class="sd">----</span>
<span class="sd">    **Exceptions**</span>

<span class="sd">    :raisesTACException: If invalid values are passed to the function.</span>
<span class="sd">----</span>
<span class="sd">    **Returns**</span>

<span class="sd">    :return: TotalsAndComponentsOutput: An object containing the</span>
<span class="sd">                                       following attributes:</span>
<span class="sd">             - identifier (str): Unique identifier.</span>
<span class="sd">             - absolute_difference (str): The absolute value showing the difference between</span>
<span class="sd">             the input components and</span>
<span class="sd">               the predictive total.</span>
<span class="sd">             - low_percent_threshold (str, optional): The sum of the input components minus</span>
<span class="sd">             the absolute percentage</span>
<span class="sd">               difference (default: None).</span>
<span class="sd">             - high_percent_threshold (str, optional): The sum of the input components plus</span>
<span class="sd">             the absolute percentage</span>
<span class="sd">               difference (default: None).</span>
<span class="sd">             - final_total (str): The output total, which may have been corrected based on</span>
<span class="sd">             the amend_total variable.</span>
<span class="sd">             - final_components (List[str]): The output components, which may have been</span>
<span class="sd">             corrected to match the received predictive value. If corrected, the components are</span>
<span class="sd">               scaled proportionally</span>
<span class="sd">             - Tcc_Marker (str): Indicates what correction (if any) was necessary.</span>
<span class="sd">                Possible values:</span>
<span class="sd">                    T (totals corrected),</span>
<span class="sd">                    C (components corrected), N (no correction required),</span>
<span class="sd">                    M (manual correction required),</span>
<span class="sd">                    S (method stopped due to lack of data or zero values).</span>
<span class="sd">     :rtype: Tuple(TotalsAndComponentsOutput)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># we log a table of the input record values</span>
    <span class="n">log_table</span><span class="p">(</span>
        <span class="s2">&quot;Input Table Function&quot;</span><span class="p">,</span>
        <span class="n">identifier</span><span class="o">=</span><span class="n">identifier</span><span class="p">,</span>
        <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
        <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
        <span class="n">amend_total</span><span class="o">=</span><span class="n">amend_total</span><span class="p">,</span>
        <span class="n">predictive</span><span class="o">=</span><span class="n">predictive</span><span class="p">,</span>
        <span class="n">auxiliary</span><span class="o">=</span><span class="n">auxiliary</span><span class="p">,</span>
        <span class="n">absolute_difference_threshold</span><span class="o">=</span><span class="n">absolute_difference_threshold</span><span class="p">,</span>
        <span class="n">percentage_difference_threshold</span><span class="o">=</span><span class="n">percentage_difference_threshold</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">output_list</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;identifier&quot;</span><span class="p">:</span> <span class="n">identifier</span><span class="p">,</span>
            <span class="s2">&quot;final_total&quot;</span><span class="p">:</span> <span class="n">total</span><span class="p">,</span>
            <span class="s2">&quot;final_components&quot;</span><span class="p">:</span> <span class="n">components</span><span class="p">,</span>
            <span class="s2">&quot;low_percent_threshold&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;high_percent_threshold&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;absolute_difference&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">components_list</span> <span class="o">=</span> <span class="n">initialize_components_list</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>
        <span class="n">low_threshold</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">high_threshold</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1">#  Check for invalid parameter values and set the precision value</span>
        <span class="c1">#  for decimal calculations</span>
        <span class="n">precision</span> <span class="o">=</span> <span class="n">validate_input</span><span class="p">(</span>
            <span class="n">identifier</span><span class="p">,</span>
            <span class="n">total</span><span class="p">,</span>
            <span class="n">components_list</span><span class="p">,</span>
            <span class="n">amend_total</span><span class="p">,</span>
            <span class="n">predictive</span><span class="p">,</span>
            <span class="n">precision</span><span class="p">,</span>
            <span class="n">auxiliary</span><span class="p">,</span>
            <span class="n">absolute_difference_threshold</span><span class="p">,</span>
            <span class="n">percentage_difference_threshold</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;total&quot;</span><span class="p">,</span>
            <span class="s2">&quot;components&quot;</span><span class="p">,</span>
            <span class="s2">&quot;predictive&quot;</span><span class="p">,</span>
            <span class="s2">&quot;auxiliary&quot;</span><span class="p">,</span>
            <span class="s2">&quot;absolute_difference_threshold&quot;</span><span class="p">,</span>
            <span class="s2">&quot;percentage_difference_threshold&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">total</span><span class="p">,</span>
            <span class="n">components</span><span class="p">,</span>
            <span class="n">predictive</span><span class="p">,</span>
            <span class="n">auxiliary</span><span class="p">,</span>
            <span class="n">absolute_difference_threshold</span><span class="p">,</span>
            <span class="n">percentage_difference_threshold</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">decimal_values</span> <span class="o">=</span> <span class="n">convert_input_to_decimal</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span>

        <span class="n">input_parameters</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">decimal_values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;total&quot;</span><span class="p">),</span>
            <span class="n">initialize_components_list</span><span class="p">(</span><span class="n">decimal_values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">)),</span>
            <span class="n">decimal_values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;predictive&quot;</span><span class="p">),</span>
            <span class="n">decimal_values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;auxiliary&quot;</span><span class="p">),</span>
            <span class="n">decimal_values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;absolute_difference_threshold&quot;</span><span class="p">),</span>
            <span class="n">decimal_values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;percentage_difference_threshold&quot;</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1">#  Set the predictive as either the current value, total or auxiliary</span>
        <span class="c1"># depending on what values exist from the data input.</span>
        <span class="p">(</span><span class="n">predictive</span><span class="p">,</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">])</span> <span class="o">=</span> <span class="n">set_predictive_value</span><span class="p">(</span>
            <span class="n">input_parameters</span><span class="p">[</span><span class="n">InputParameters</span><span class="o">.</span><span class="n">PREDICTIVE</span><span class="o">.</span><span class="n">value</span><span class="p">],</span>
            <span class="n">input_parameters</span><span class="p">[</span><span class="n">InputParameters</span><span class="o">.</span><span class="n">AUXILIARY</span><span class="o">.</span><span class="n">value</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">component_total</span> <span class="o">=</span> <span class="n">sum_components</span><span class="p">(</span>
            <span class="n">input_parameters</span><span class="p">[</span><span class="n">InputParameters</span><span class="o">.</span><span class="n">COMPONENTS</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">TccMarker</span><span class="o">.</span><span class="n">METHOD_PROCEED</span><span class="p">:</span>
            <span class="c1">#  Check for error scenarios where the sum of the components is zero and</span>
            <span class="c1">#  a positive predictive value has been received</span>
            <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">check_zero_errors</span><span class="p">(</span><span class="n">predictive</span><span class="p">,</span> <span class="n">component_total</span><span class="p">)</span>

            <span class="n">absolute_difference</span> <span class="o">=</span> <span class="n">check_sum_components_predictive</span><span class="p">(</span>
                <span class="n">predictive</span><span class="p">,</span> <span class="n">component_total</span>
            <span class="p">)</span>

            <span class="c1">#  Determine if a correction is required</span>
            <span class="k">if</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">TccMarker</span><span class="o">.</span><span class="n">METHOD_PROCEED</span><span class="p">:</span>
                <span class="p">(</span>
                    <span class="n">low_threshold</span><span class="p">,</span>
                    <span class="n">high_threshold</span><span class="p">,</span>
                    <span class="n">output_list</span><span class="p">,</span>
                <span class="p">)</span> <span class="o">=</span> <span class="n">calculate_percent_thresholds</span><span class="p">(</span>
                    <span class="n">component_total</span><span class="p">,</span>
                    <span class="n">input_parameters</span><span class="p">[</span>
                        <span class="n">InputParameters</span><span class="o">.</span><span class="n">PERCENTAGE_DIFFERENCE_THRESHOLD</span><span class="o">.</span><span class="n">value</span>
                    <span class="p">],</span>
                    <span class="n">output_list</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="c1"># Absolute difference is output here as it would not change from this point</span>
                <span class="c1"># it is not output sooner as a S marker could be returned</span>
                <span class="c1"># before this point and that would have no absolute difference value.</span>
                <span class="k">if</span> <span class="n">absolute_difference_threshold</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;absolute_difference&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;absolute_difference&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">absolute_difference</span>

                <span class="c1"># If the received total equals the sum of the received components</span>
                <span class="c1"># then no correction needs to take place.</span>
                <span class="k">if</span> <span class="n">input_parameters</span><span class="p">[</span><span class="n">InputParameters</span><span class="o">.</span><span class="n">TOTAL</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">==</span> <span class="n">component_total</span><span class="p">:</span>
                    <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">TccMarker</span><span class="o">.</span><span class="n">NO_CORRECTION</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1">#  Determine if the difference error can be automatically corrected</span>
                    <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">determine_error_detection</span><span class="p">(</span>
                        <span class="n">input_parameters</span><span class="p">[</span>
                            <span class="n">InputParameters</span><span class="o">.</span><span class="n">ABSOLUTE_DIFFERENCE_THRESHOLD</span><span class="o">.</span><span class="n">value</span>
                        <span class="p">],</span>
                        <span class="n">input_parameters</span><span class="p">[</span>
                            <span class="n">InputParameters</span><span class="o">.</span><span class="n">PERCENTAGE_DIFFERENCE_THRESHOLD</span><span class="o">.</span><span class="n">value</span>
                        <span class="p">],</span>
                        <span class="n">absolute_difference</span><span class="p">,</span>
                        <span class="n">predictive</span><span class="p">,</span>
                        <span class="n">low_threshold</span><span class="p">,</span>
                        <span class="n">high_threshold</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">TccMarker</span><span class="o">.</span><span class="n">METHOD_PROCEED</span><span class="p">:</span>
                        <span class="p">(</span>
                            <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;final_total&quot;</span><span class="p">],</span>
                            <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;final_components&quot;</span><span class="p">],</span>
                            <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">],</span>
                        <span class="p">)</span> <span class="o">=</span> <span class="n">error_correction</span><span class="p">(</span>
                            <span class="n">amend_total</span><span class="o">=</span><span class="n">amend_total</span><span class="p">,</span>
                            <span class="n">components_sum</span><span class="o">=</span><span class="n">component_total</span><span class="p">,</span>
                            <span class="n">original_components</span><span class="o">=</span><span class="n">input_parameters</span><span class="p">[</span>
                                <span class="n">InputParameters</span><span class="o">.</span><span class="n">COMPONENTS</span><span class="o">.</span><span class="n">value</span>
                            <span class="p">],</span>
                            <span class="n">total</span><span class="o">=</span><span class="n">input_parameters</span><span class="p">[</span><span class="n">InputParameters</span><span class="o">.</span><span class="n">TOTAL</span><span class="o">.</span><span class="n">value</span><span class="p">],</span>
                        <span class="p">)</span>

        <span class="n">final_components</span> <span class="o">=</span> <span class="n">clean_component_list</span><span class="p">(</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;final_components&quot;</span><span class="p">])</span>

        <span class="n">absolute_difference</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;absolute_difference&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;absolute_difference&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;absolute_difference&quot;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">low_threshold</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">low_threshold</span><span class="p">)</span> <span class="k">if</span> <span class="n">low_threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">low_threshold</span>
        <span class="p">)</span>

        <span class="n">high_threshold</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">high_threshold</span><span class="p">)</span> <span class="k">if</span> <span class="n">high_threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">high_threshold</span>
        <span class="p">)</span>

        <span class="n">final_total</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;final_total&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;final_total&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;final_total&quot;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># Return the values as raw strings instead of decimal</span>
        <span class="n">output_list</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;identifier&quot;</span><span class="p">:</span> <span class="n">identifier</span><span class="p">,</span>
            <span class="s2">&quot;absolute_difference&quot;</span><span class="p">:</span> <span class="n">absolute_difference</span><span class="p">,</span>
            <span class="s2">&quot;low_percent_threshold&quot;</span><span class="p">:</span> <span class="n">low_threshold</span><span class="p">,</span>
            <span class="s2">&quot;high_percent_threshold&quot;</span><span class="p">:</span> <span class="n">high_threshold</span><span class="p">,</span>
            <span class="s2">&quot;final_total&quot;</span><span class="p">:</span> <span class="n">final_total</span><span class="p">,</span>
            <span class="s2">&quot;final_components&quot;</span><span class="p">:</span> <span class="n">final_components</span><span class="p">,</span>
            <span class="s2">&quot;tcc_marker&quot;</span><span class="p">:</span> <span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">output</span> <span class="o">=</span> <span class="n">TotalsAndComponentsOutput</span><span class="p">(</span><span class="n">output_list</span><span class="p">)</span>

        <span class="c1"># Log the output table with the final values</span>
        <span class="n">log_table</span><span class="p">(</span>
            <span class="s2">&quot;Totals and Components Output&quot;</span><span class="p">,</span>
            <span class="n">identifier</span><span class="o">=</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;identifier&quot;</span><span class="p">],</span>
            <span class="n">absolute_difference</span><span class="o">=</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;absolute_difference&quot;</span><span class="p">],</span>
            <span class="n">low_percent_threshold</span><span class="o">=</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;low_percent_threshold&quot;</span><span class="p">],</span>
            <span class="n">high_percent_threshold</span><span class="o">=</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;high_percent_threshold&quot;</span><span class="p">],</span>
            <span class="n">final_total</span><span class="o">=</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;final_total&quot;</span><span class="p">],</span>
            <span class="n">final_components</span><span class="o">=</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;final_components&quot;</span><span class="p">],</span>
            <span class="n">tcc_marker</span><span class="o">=</span><span class="n">output_list</span><span class="p">[</span><span class="s2">&quot;tcc_marker&quot;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">output</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">identifier</span> <span class="o">=</span> <span class="s2">&quot;N/A&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;identifier: </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">, Exception full traceback: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">TACException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;identifier: </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

              
            </article>
          </div>
        </div>
      </main>
      
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "/static/assets/javascripts/workers/search.5e67fbfe.min.js"}</script>
    
    
      <script src="/static/assets/javascripts/bundle.e87a5f81.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>